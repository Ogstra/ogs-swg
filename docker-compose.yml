services:
  ogs-swg:
    build: .
    image: ogs-swg:latest
    container_name: ogs-swg
    ports:
      - "8080:8080"
    # Use host networking if you need to access host services without port mapping:
    # network_mode: "host"
    volumes:
      - ./local-data/logs/singbox.log:/var/log/singbox.log:ro
      - ./local-data/singbox/config.json:/etc/sing-box/config.json:ro
      - ./local-data/wireguard/wg0.conf:/etc/wireguard/wg0.conf
      - ./config.json:/config/config.json # panel config
      - ./local-data/data:/var/lib/ogs-swg
    restart: unless-stopped
    command: ["/usr/local/bin/ogs-swg", "--config", "/config/config.json", "--db", "/var/lib/ogs-swg/stats.db", "--log", "/var/log/singbox.log"]
